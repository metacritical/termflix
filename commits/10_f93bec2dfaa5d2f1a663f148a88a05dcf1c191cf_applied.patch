From f93bec2dfaa5d2f1a663f148a88a05dcf1c191cf Mon Sep 17 00:00:00 2001
From: metacritical <pankajdoharey@gmail.com>
Date: Tue, 23 Dec 2025 23:08:22 +0530
Subject: [PATCH] fix(catalog): Correct prefetch page numbers - load 1-5, then
 6-15

Changed initial_pages from 10 to 5 to match spinner text.
Prefetch message now correctly shows pages 6-15 instead of 11-20.
---
 modules/catalog.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/modules/catalog.sh b/modules/catalog.sh
index f4346a2..d6f703a 100644
--- a/modules/catalog.sh
+++ b/modules/catalog.sh
@@ -109,7 +109,7 @@ display_catalog() {
         # Phase 2: Background fetch pages 6-15 (10 more pages)
         # Midpoint triggers: At page 10â†’fetch 16-25, page 20â†’fetch 26-35, etc.
         
-        local initial_pages=10          # Load 5 pages upfront (250 results)
+        local initial_pages=5           # Load 5 pages upfront (250 results)
         local batch_size=10
         local page_pids=()
         local page_files=()
@@ -178,7 +178,7 @@ display_catalog() {
         # === PHASE 2: Background Prefetch Pages 6-15 ===
         local batch_end=$((initial_pages + batch_size))
         echo ""  # Newline before prefetch message
-        echo -e "${GRAY}ðŸ“¥ Prefetching pages 11-${batch_end} in background...${RESET}"
+        echo -e "${GRAY}ðŸ“¥ Prefetching pages $((initial_pages + 1))-${batch_end} in background...${RESET}"
         
         (
             for p in $(seq $((initial_pages + 1)) $batch_end); do
-- 
2.50.1 (Apple Git-155)

