From f9ca550cf66dc1c47e961b3eb304f238c1c42aca Mon Sep 17 00:00:00 2001
From: metacritical <pankajdoharey@gmail.com>
Date: Tue, 23 Dec 2025 19:53:58 +0530
Subject: [PATCH] fix(preview): Clear genre line to prevent colored artifacts

Added ANSI \033[K (clear to end of line) after genre pills.
This prevents colored backgrounds from persisting when switching
between movies with different numbers of genres.
---
 modules/ui/catalog/preview_fzf.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/modules/ui/catalog/preview_fzf.sh b/modules/ui/catalog/preview_fzf.sh
index 759ec46..be0a7c9 100755
--- a/modules/ui/catalog/preview_fzf.sh
+++ b/modules/ui/catalog/preview_fzf.sh
@@ -298,7 +298,8 @@ fi
 # --- Genre Line (separate to prevent truncation) ---
 if [[ -n "$movie_genre" && "$movie_genre" != "N/A" ]]; then
     styled_genre=$(style_genres "$movie_genre" 2>/dev/null || echo "$movie_genre")
-    echo -e "${BOLD}Genre:${RESET} ${styled_genre}"
+    # \033[K clears to end of line to prevent colored background artifacts
+    echo -e "${BOLD}Genre:${RESET} ${styled_genre}\033[K"
 fi
 echo
 
-- 
2.50.1 (Apple Git-155)
